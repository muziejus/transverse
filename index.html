<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Transversing Spaces</title>

    <meta name="description" content="Critical Keynote at Transversing Spaces conference at University of Albany">
    <meta name="author" content="Moacir P. de Sá Pereira">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/reveal.css">
    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/css/zenburn.css">

    <link rel="stylesheet" href="moacir-files/moon-moacir.css" id="theme">


    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/pdf.css' : 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h1>Transversing Spaces</h1>
          <p>
            <small><a href="http://moacir.com">Moacir P. de Sá Pereira</a> / <a href="http://twitter.com/muziejus">@muziejus</a><br />
              Asst. Prof. / Faculty Fellow, <a href="http://english.fas.nyu.edu/page/home">Department of English</a>, New York University<br />
              Albany, NY, 23 March 2018</small>
          </p>
          <aside class="notes">
          </aside>
        </section>

        <section>
          <img src="images/final.png" alt="The final map">
          <aside class="notes">
            Today, in this short time, we’re going to build a simple map in JavaScript
            that highlights a few geographic points mentioned in Langston Hughes’s poem
            “Could Be.” The map will look something like this. I didn’t know this poem
            until Alba Newmann Holmes presented a paper, “‘Could Be’: Langston Hughes as
            Situationist Cartographer,” at a special session I convened at the MLA
            Convention in 2015. It’s a good poem to map, because there are a few specific
            places mentioned and because it, even in its brevity, demonstrates a few
            fundamental issues with making maps.
          </aside>

        </section>

        <section>
          <h2>Get the Files:</h2>
          <h2><a href="http://moacir.com/simple-js-maps-files.zip">http://moacir.com/simple-js-maps-files.zip</a></h2>
          <h2><a href="http://moacir.com/talks/simple-js-maps/">http://moacir.com/talks/simple-js-maps/</a></h2>
          <aside class="notes">
            Before we go any further, though, let’s download the files we’ll be using for
            this course. Please go to this url and download the zip file and unzip it to
            your computer’s desktop.
          </aside>
        </section>

        <section>
          <img src="images/files.png" alt="The files in the zip">
          <aside class="notes">
            <p>
              When you unzip the zipfile, you should have a folder that looks something like
              this. The icons may look a bit different, but the point is that there are two
              folders and three files. 
            </p>

            <p>
              Now, even though we talk about a webpage, as though it’s a single thing, what
              you see in your browser is typically generated by processes that rely on
              several files, which you see here.
            </p>
          </aside>
        </section>

        <section>
          <img src="images/webpage-components.png" alt="The pieces of a webpage">
          <aside class="notes">
            <p>
              One way to think of a website is as a sentence, made up of parts of speech.
              The html file contains the basic semantic building blocks of the page,
              including metadata about it and instructions to put a box of content here or a
              map there or a paragraph there.
            </p>

            <p>
              CSS, or stylesheets, are the adjectives. They explain how those building
              blocks should look. What size the text should be, what color the background
              should be, what the margins should be, and so on. We’ll barely touch CSS
              today.
            </p>

            <p>
              Finally, there’s JavaScript. JavaScript is the verbs. The process. The
              movement. Anything on a website that involves motion or reaction is likely a
              JavaScript process, like “draw a map” or “zoom in” or “change the color.”
              Similarly, and in true autopoetic fashion, JavaScript can create html and css.
            </p>
          </aside>
        </section>

        <section>
          <img src="images/initial-index.png" alt="Intitial index.html">
          <aside class="notes">
            Now if you were to open index.html in a browser with JavaScript disabled, it would
            look something like this, where all you see is the text that you saw in
            index.html.
          </aside>
        </section>

        <section>
          <img src="images/jsed-index.png" alt="index.html after JavaScript">
          <aside class="notes">
            However, if you do actually open it in your browser, which you can do by
            double clicking on index.html, you’ll see that there is different text under
            the header. Somehow, the JavaScript is manipulating the html and changing the
            text and coloring the background.

            So let’s open sandbox.js and see what is happening.
          </aside>

        </section>

            
        <section>
          <h2><code>sandbox.js</code></h2>
          <pre><code class="js">setTimeout(function(){$("#response").html(function(){
//
//
// IGNORE EVERYTHING ABOVE THIS LINE

return "This text is coming from JavaScript." ;

// IGNORE EVERYTHING BELOW THIS LINE
//
//
}).addClass("alert alert-success");}, 1000);</pre></code>
          <aside class="notes">
            <p>
              We’ll go into more detail about the top and bottom lines of this file, but you
              can ignore them for now. Briefly, they instruct the browser to wait a second
              and then change the text of the div with the id of “response” and color it
              green. What we’re interested in is the text itself.
            </p>

            <p>
              So change that line of “This text is coming from JavaScript” to something
              else, save the JavaScript file, and reload the webpage. Your change should now
              appear. 
            </p>

            <p>
              Note the syntax, however. There’s the keyword “return”, then the text in
              double quotes, and then a semicolon. That’s a complete statement, and
              statements end with semicolons in JavaScript.
            </p>

            <p>
              If it didn’t work, make sure that you surrounded your text with quotes and
              make sure your text editor isn’t converting quotes to smart quotes. (lead
              changing textedit to not make smart quotes)

              Once it works, pat yourself on the back. You are now a JavaScript programmer.
            </p>

          </aside>
        </section>

        <section>
          <h2>Types in JavaScript 1</h2>

          <ul>
            <li>String: <code>"Hello"</code></li>
            <li>Number: <code>2.718</code></li>
            <li>Boolean: <code>true</code></li>
          </ul>

          <pre><code class="js">return 2.718 + 3 ;</code></pre>
          <aside class="notes">
            Putting text in double quotes creates a “string,” which is a piece of data
            JavaScript recognizes. Two other basic ones are numbers, which are just
            numbers without double quotes, and booleans, which are either true or false,
            again, without quotes.

            Change line 6 of sandbox.js to perform some math, like noted here. Save and
            reload your webpage, and you should now have a clumsy calculator.

          </aside>
        </section>

        <section>
          <h2>Variables</h2>

          <pre><code class="js">let two = 2 ;
let three = 3 ;
let result = two + three ;
return "The result of " + two + " and " + three + " is " + result ;</code></pre>
          <aside class="notes">
            <p>
              Programming as such becomes more powerful once you can start saving time by
              using variables. The examples here don’t actually do that, but they
              illustrate the process of defining variables and assigning values to them.
            </p>

            <p>
              You define a variable with the “let” keyword, then name the variable, then add
              an equal sign, the value, and a semicolon. From the “let result” line,
              however, you can see that you can evaluate values when assigning them to a
              variable. And then the variable can be reused later, like in the return line.

            </p>
            <p>
              Just like a baby’s first steps are clumsy and inefficient, so is the coding,
              but the goal is to see how these things work first.
            </p>

          </aside>
        </section>

        <section>
          <h2>Types in JavaScript 2</h2>

          <ul>
            <li>Array: <code>["Hello", 1, 5.5]</code></li>
            <li>Object: <code>{ name: "Leonardo", age: 16 }</code></li>
            <li>Function: <code>function(){ return "Hi!" ; }</code></li>
          </ul>
          <aside class="notes">
            <p>
              There are three more types to talk about that are more complex, because they
              interact with the previous data types.
            </p>

            <p>
              Arrays are lists of data. Every item in an array can be a string, a number, or
              even another array. The items are separated by commas and enclosed in
              brackets.

            </p>
            <p>
              Objects have properties. In this example, the object is indicated with curly
              braces and has two properties, a name property and an age property. A string
              is assigned to the name property, and a number is assigned to the age
              property.

            </p>
            <p>
              Functions are where the action happens. If JavaScript is the verbs of a
              webpage, functions are the verbs of JavaScript. In fact, in sandbox.js, if you
              look again, you’ll see that the top and bottom lines are chains of functions,
              and what you’re typing with “return” is inside a function. “Return,” actually,
              is the keyword that tells a function to stop and send a value, the return
              value, back to whatever called the function. We’ll discuss this in a bit more
              detail in a few slides.
            </p>
          </aside>
        </section>

        <section>
          <h2>Arrays</h2>

          <ul>
            <li>Lists of data, where each member can be any data type</li>
            <li>Every member has an index value, beginning with 0</li>
            <li>A member can be called using its index: <code>array[1]</code></li>
          </ul>

          <pre><code class="js">let turtles = ["Leonardo", "Donatello", "Raphael", "Michelangelo"] ;
return "The oneth turtle is " + turtles[1] ;</code></pre>
          <aside class="notes">
            <p>
              Arrays are lists of data. As mentioned, the data can be any type. The way you
              access a specific member of an array is by using its index value, which is
              what order it’s in in the list. Surprisingly, the first item’s index is zero,
              the second’s is one, and so on. This is confusing, so I tend to talk about
              zeroth, oneth, twoth, and threeth values of an array. 
            </p>

            <p>
              Once you assign an array to a variable, you can call a specific member by
              using the index number associated with that member in brackets, like in this
              example. Create your own array and have your webpage return a specific member
              from the array.
            </p>
          </aside>
        </section>

        <section>
          <h2>Objects</h2>

          <ul>
            <li>Have properties</li>
            <li>Properties can be accessed with with dot notation: <code>object.property</code></li>
            <li>When properties are functions, they’re called methods</li>
          </ul>

          <pre><code class="js">let turtle = { name: "Leonardo", age: 16 } ;
return turtle.name + " is " + turtle.age + " years old." ;</code></pre>
          <aside class="notes">
            <p>
              Objects are have properties. That’s about all there is to them. You access the
              properties using dot notation, as noted here. Properties can be any data type,
              strings, numbers, arrays, or other objects. But when a property is a function,
              it’s called a method. There are two methods in your sandbox.js file, dot html
              and dot add class. They are both methods belonging to a javascript object that
              represents the bit of html code that creates the response div.

            </p>
            <p>
              This is purposely vague and indistinct, because so are objects. They can
              contain any kind of property you can dream up. Create an object of your own
              with some properties and access them in your sandbox.js file.
            </p>

          </aside>
        </section>

        <section>
          <h2>Functions</h2>

          <ul>
            <li>Can be passed parameters</li>
            <li>Have a return value</li>
          </ul>

          <pre><code class="js">return function(){ return "Functions inside functions!" ; } ;</code></pre>
          <aside class="notes">
            Finally, there are functions. This section is very short because it is hard to
            use functions with the way the sandbox.js file is set up. But you can see what
            their basic syntax is here: the keyword function, followed by parentheses.
            Inside the parentheses you can define parameters that are passed into the
            function. These are variables that are available inside the function to work
            with. In this example, we’re not using any, so we keep that blank. Then there
            are braces holding the logic of the function, in this case that’s just the
            return statement.

            But one way to see how functions work is by looking at the sandbox file a bit
            differently

          </aside>
        </section>

        <section>
          <h2><code>sandbox.js</code>, exploded</h2>

          <pre><code class="js">setTimeout(function(){ // run some function after some time
  $("#response") // use jQuery to grab the html chunk with the id of "response"
    .html(function(){ // change its html
      return function(){  // to the return value
        return "Functions inside functions!" ; // that is this string
      }
    })
    .addClass("alert alert-success") ; // add styles that make the div green
}, 1000) ; // set the time, in milliseconds, after which the function runs</code></pre>
          <aside class="notes">
            <p>
              I’ll go through this line by line. In the first line, we call the function set
              timeout, which takes two parameters, a function, and a time, which basically
              tells the browser to run the function after the time has elapsed. We see the
              time as the last bit of information on the bottom here, which means that
              everything in between is the function that is supposed to run after 1000
              milliseconds, or one second.
            </p>

            <p>
              Now this function calls a function, called dollar sign. This is shorthand for
              jQuery, which means that we’re running a jQuery function and passing it a
              parameter, in this case a string of poundsign response. The jQuery function is
              telling the browser to grab the chunk of html with an id of “response.”

            </p>
            <p>
              Now that we have that chunk of html, it’s a javascript object, which means it
              has properties--or methods. The first method is on the next line, html.
              The html method takes a function and changes the content of the html that
              jQuery grabbed, so we invoke another function. Then that function returns
              another function that returns the string “functions inside functions”

            </p>
            <p>
              Then we execute another method on that chunk of html, this time the addclass
              method, which adds some classes to the html, which we pass as a string.
              Classes help style the html, and the alert and alert-success classes are what
              make the text get a green background.

            </p>
            <p>
              Finally, at the end, we have the time, again.

              This is very confusing. It’s a very weird way to think of causality. What we
              think of as step-by-step instructions (wait a second, get the html, change the
              text, change the color) aren’t a list of commands, but, rather, are functions
              and methods embedded inside one another. We won’t be writing anything this
              complex today, but it’s useful to try and start thinking nestedly in this way.
            </p>
          </aside>
        </section>

        <section>
          <img src="images/leaflet.png" alt="Leaflet">
          <aside class="notes">
            <p>
              That’s a reasonable intro to javascript for a two-hour workshop. And the funny
              thing is, you’ve learned most of the fundamental aspects of the language. The
              rest just builds on the six data types and how they interact with each other
              using conditional statements or loops. 

            </p>
            <p>
              So to build on this basic knowledge we’ll move to leaflet. Leaflet is a set of
              methods that work on a Leaflet object that draw a map and let users interact
              with it. It’s surprisingly powerful for how basic it is, and though there are
              mapping solutions for online that are easier, like google maps and carto, none
              offers you the chance to get close to your data by manipulating it in
              JavaScript.
            </p>
          </aside>
        </section>

        <section>
          <img src="images/initial-could-be.png" alt="Initial version of the Could Be page">
          <aside class="notes">
            If you double click on index.html and open it in your browser, however, you
            see that the page isn’t mostly blank. There’s a poem there. How did it get
            there? The answer is, of course, through JavaScript, in much the same way
            we’ve been doing so far in this workshop. But the details for that are saved
            for later. Instead, we want to do something with that big white expanse above
            the poem. Namely, we want it to be a map.

          </aside>
        </section>

        <section>
          <h2><code>could-be/could-be.js</code></h2>
          <pre><code class="js">/*
let map = L.map("map"); // initialize the map
L.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}", {
      attribution: "Map tiles by <a href='http://stamen.com'>Stamen Design</a>, <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a> &mdash; Map data &copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>",
      subdomains: "abcd",
      minZoom: 0,
      maxZoom: 20,
      ext: "png"
  }).addTo(map); // set the tileLayer and add it to the map.
let nyu = [40.7305, -73.9925]; // define a place
map.setView(nyu, 14); // set the map’s center and zoom level
*/</code></pre>
          <aside class="notes">
            If you open the could-be.js file in your text editor, you'll see that there's
            already quite a bit there, but it's all commented out. As a first step, delete
            the top line (a slash and an asterisk) and the last line, an asterisk and a
            slash.

          </aside>
        </section>

        <section>
          <h2><code>could-be/could-be.js</code> uncommented</h2>
          <pre><code class="js">let map = L.map("map"); // initialize the map
L.tileLayer("https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}.{ext}", {
      attribution: "Map tiles by <a href='http://stamen.com'>Stamen Design</a>, <a href='http://creativecommons.org/licenses/by/3.0'>CC BY 3.0</a> &mdash; Map data &copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a>",
      subdomains: "abcd",
      minZoom: 0,
      maxZoom: 20,
      ext: "png"
  }).addTo(map); // set the tileLayer and add it to the map.
let nyu = [40.7305, -73.9925]; // define a place
map.setView(nyu, 14); // set the map’s center and zoom level</code></pre>
          <aside class="notes">
            <p>
              Once the file is uncommented, you can save and reload the page in your
              browser. A map should now load showing Washington Square Park. So let’s go
              over every line of javascript here.

            </p>
            <p>
              First, we define a variable map and assign it to the return value of the map
              method for the L object. L is a variable that stands for Leaflet. It gets
              loaded when we added that line about leaflet to the index.html. L has many
              methods, and one of the is map, which defines a map based on the name of the
              div you pass it, which in this case is, again, map. So, in short, this line
              takes the div with an id map and turns it into a Leaflet map, while also
              creating a variable we can use from then on, also called map, to manipulate
              what we’ve got on the page.

            </p>
            <p>
              The second line uses the tileLayer method to define a tile layer with some
              properties. This is the background of the map, the part with all the streets
              and water. Then at the end, we use the addTo method to add this layer to the
              map variable. Without that add to, we’d just have a blank gray square here.

            </p>
            <p>
              The next statement defines a variable nyu and assigns to it an array. In this
              case, the zeroth element of the array is the latitude, and the oneth element
              is the longitude.
            </p>

            <p>
              Finally, we use the setview method that map inherited when it became a Leaflet
              map, to center the map at the nyu latitude and longitude, and we set the zoom
              level to 14.

            </p>
            <p>
              Yes! that’s a lot! But these are just the initial conditions of the map. You
              set the tile layer once and forget it. You set the center and zoomlevel once
              and forget it. After all, it’s easy to change both the center and zoom level
              with just a mouse click or two.

            </p>
          </aside>

        </section>

        <section>
          <h2>Drawing Markers in Leaflet</h2>
          <pre><code class="js">L.circleMarker(nyu)
  .addTo(map);
L.polyline([nyu, [40.735, -73.993], [40.733, -73.998]])
  .addTo(map);
L.polygon([[40.736, -73.993], [40.735, -73.998], [40.737, -74]])
  .addTo(map);</code></pre>
          <aside class="notes">
            Leaflet lets us draw markers, lines, and polygons. It also lets us attach
            popups to those items, so let’s draw one of each just for fun

            For the circleMarker, we reuse the nyu variable.

            For the line--or polyline--it’s just an array of arrays, where each subarray is a latitude
            and longitude. Since nyu is an array, it works great as the first point in the
            line.

            A polygon is the same as a polyline, except leaflet fills it in.

            But the fundamentals are still here. We’re using three methods the L object
            has, passing them arrays as parameters, and then using the addto method to add
            them to the map.

            You can use any coordinates you like and zoom out as appropriate, but these
            are the basics.

          </aside>

        </section>

        <section>
          <img src="images/initial-map.png" alt="Drawing some objects on the map">
          <aside class="notes">
            Here’s what my marker, polyline, and polygon look like
          </aside>

        </section>

        <section>
          <h2>Could Be (1949)</h2>

          <div style="float: left; width: 50%;">
            <p>Could be <span style="color: #d33682; font-weight: bold;">Hastings Street</span>,<br />
              Or <span style="color: #d33682; font-weight: bold;">Lenox Avenue</span>.<br />
              Could be <span style="color: #d33682; font-weight: bold;">18th &amp; Vine</span><br />
              And still be true.</p>

            <p>Could be <span style="color: #d33682; font-weight: bold;">5th &amp; Mound</span>,<br />
              Could be <span style="color: #d33682; font-weight: bold;">Rampart</span>:<br />
              When you pawned my watch<br />
              You pawned my heart.</p>
          </div>

          <div style="float: left; width: 50%;">
            <p>Could be you love me,<br />
              Could be that you don’t.<br />
              Might be that you’ll come back,<br />
              Like as not you won’t.</p>

            <p><span style="color: #d33682; font-weight: bold;">Hastings Street</span> is weary,<br />
              Also <span style="color: #d33682; font-weight: bold;">Lenox Avenue</span>.<br />
              Any place is dreary<br />
              Without my watch and you.</p>
          </div>
          <aside class="notes">
            <p>
              Now let’s take a closer look at the poem, which is from 1949. We see that
              there are five different places mentioned in the poem, and two are mentioned
              twice. Do any of you recognize any of the places?

            </p>
            <p>
              I hunted down all five, and it was kind of tricky to find two, Hastings St.
              and Fifth and Mound. This is because they no longer exist like they used to.
              They were once the centers of African-American communities in Detroit and
              Cincinnati, respectively, but both were bulldozed away to make room for I-75. 

            </p>
            <p>
              Let’s put a dot on the map for all five of these locations then. Open up
              could-be/data.js in your text editor.

            </p>
          </aside>
        </section>


        <section>
          <h2><code>could-be/data.js</code></h2>
          <pre><code class="js">let points = [
  { coords: [42.334, -83.037], name: "Hastings St.", mentions: 2 },
  { coords: [40.809, -73.944], name: "Lenox Avenue", mentions: 2 },
  { coords: [39.09, -94.561], name: "18th &amp; Vine", mentions: 1 },
  { coords: [39.1, -84.524], name: "5th &amp; Mound", mentions: 1 },
  { coords: [29.956, -90.073], name: "Rampart", mentions: 1 }
] ;</code></pre>
          <aside class="notes">
            <p>
              Now I’ve collected the coordinates for all five places already and put them in
              data.js. You don’t have to edit anything, but I want you to see what is at the
              top of this file. As you can see, I define a variable, points, and assign to
              it an array. Now each element of the array is an object, and each object has
              three properties, a coords property, a name propoerty, and a mentions
              property.

            </p>
            <p>
              The coords property is just like the nyu variable from could-be.js. It’s an
              array with a latitude and a longitude. The name is the name, and the mentions
              refers to how many times the place is mentioned in the poem.

            </p>
            <p>
              Because this file is loaded before the could-be.js file, this points variable
              is available to us inside could-be.js, so now we can get fancy.

            </p>
          </aside>
        </section>

        <section>
          <h2>Looping and <code>array.forEach()</code></h2>
          <pre><code class="js">points.forEach(function(location){
  L.circleMarker(location.coords)
    .addTo(map) ;
}) ;</code></pre>
          <aside class="notes">
            <p>
              How can we get those five points on the map? We know how to do it once, but
              what about for five times? Wouldn’t it be nice if we could loop over the array
              and, with every time through, pick up a new set of coordinates and add it to
              the map? Yes, and, in fact, that’s exactly what we’ll do.

            </p>
            <p>
              Arrays have a method called “forEach,” which lets you write a function that
              manipulates every item in the array at a time. That item is named using the
              parameter you assign to the forEach function. So in this example, it’s
              “location.” That means that every time the forEach steps through the points
              array, it creates a variable, called location, and assigns that object to the
              variable. 

            </p>
            <p>
              So the first time through, location is equal to the object that has the
              hastings street name property. The second time, it’s the object with the lenox
              avenue property, and so on, until the last time through, it’s the rampart
              property.

            </p>
            <p>
              With just three lines of code, we’ve added five dots to the map. Now the value
              of looping starts to make sense, I hope.
            </p>

          </aside>
        </section>

        <section>
          <h2>Fitting Bounds</h2>
          <pre><code class="js">points.forEach(function(location){
  L.circleMarker(location.coords)
    .addTo(map) ;
}) ;
map.fitBounds([[23, -125], [50, -65]]) ;</code></pre>
          <aside class="notes">
            However, the map is still zoomed in on NYU. We want to see the entire
            lower-48. In leaflet, the map object has a method, fit bounds, that lets you
            draw a box around how much of the map you want to have visible.
          </aside>
        </section>

        <section>
          <h2>Binding a Popup</h2>
          <pre><code class="js">points.forEach(function(location){
  L.circleMarker(location.coords)
    .bindPopup(location.name)
    .addTo(map) ;
}) ;
map.fitBounds([[23, -125], [50, -65]]) ;</code></pre>
          <aside class="notes">
            We can do even better. Circlemarkers have a method associated with them,
            called bind popup, that lets us define what the popup for the marker is. Since
            each object in the points array has a name property, let’s make a popup for
            each marker with the place’s name in it.

            Change the could-be.js file a bit, save, and reload the webpage. Zoom out and
            you see all five points and if you click on one, the popup shows up.

          </aside>
        </section>

        <section>
          <h2>Changing Options</h2>
          <pre><code class="js">points.forEach(function(location){
  let color = "green" ;
  let options = { color: color, fillColor: color } ;
  L.circleMarker(location.coords, options)
    .bindPopup(location.name)
    .addTo(map) ;
}) ;
map.fitBounds([[23, -125], [50, -65]]) ;</code></pre>
          <aside class="notes">
            Even better, let’s change the color of the markers. Circle markers, polylines,
            and polygons actually take two parameters. The first is the coordinates, like
            we’ve done so far. The second is an object with properties that define the
            style of the circlemarker or polyline or polygon.

            In Leaflet, the color property refers to the outline, or stroke color, and the
            fillcolor property refers to the shading inside the circle marker or polygon.
            I picked green here, but you can use any hex value for a color too (explain
            hex values).

            But also, you may notice that I don’t use green as a string in the options
            object. Instead, I define a variable, color, and use it. The reason for that
            is that it’ll make things easier when I want to color the markers differently
            depending on how many times each place is mentioned.

          </aside>
        </section>

        <section>
          <h2>Conditional Statements</h2>
          <pre><code class="js">points.forEach(function(location){
  let color ;
  if(location.mentions === 2){
    color = "green" ;
  } else {
    color = "red" ;
  }
  let options = { color: color, fillColor: color } ;
  L.circleMarker(location.coords, options)
    .bindPopup(location.name)
    .addTo(map) ;
}) ;
map.fitBounds([[23, -125], [50, -65]]) ;</code></pre>
          <aside class="notes">
            Earlier, I said that looping and conditionals were most of what was missing
            from this introduction to javascript. By putting the five dots on the map,
            we’ve used a loop, specifically a foreach loop on an array. Now for
            conditionals. They test whether a statement is true or false--those boolean
            values I introduced at the beginning of the workshop but haven’t yet used. If
            the statement evaluates to true, a conditional does one thing. Otherwise, it
            does another.

            Now notice what happens here. First, we define the variable color, but we
            don’t assign it a value. Next, we start a conditional through an if statement.
            These triple equals signs basically make this statement mean “if it is the
            case that the value of location.mentions is exactly 2, do something.” This
            time around, that something is assigning the value green to color. Then we
            follow up with an else clause that says what to do when the value of
            location.mentions is not exactly 2, which is to assign the value red to color.

            It repeats this process with every location, so we end up with two green
            circle markers and three red ones, just as we would expect.

            So save and reload.
          </aside>
        </section>

        <section>
          <img src="images/final.png" alt="The final map">
        </section>

        <section data-markdown>
          ## Read the Fantastic Manuals to Learn about Methods

          * Leaflet: [leafletjs.com](http://leafletjs.com/)
          * jQuery: [jquery.com](https://jquery.com/)
          * Bootstrap: [getbootstrap.com](http://getbootstrap.com/)
          * JavaScript: [developer.mozilla.org/en-US/docs/Web/JavaScript/Reference](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference) (or google “javascript mozilla reference”)
          * My longer course: [the-javascripting-english-major.org](http://the-javascripting-english-major.org)
        </section>

         <section data-markdown>
          ## Thanks!
          #### [http://moacir.com/talks/simple-js-maps/](http://moacir.com/talks/simple-js-maps/)
        </section>

      </div>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/head.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/js/reveal.min.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: false,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/zoom-js/zoom.js', async: true },
          { src: 'https://cdnjs.cloudflare.com/ajax/libs/reveal.js/3.6.0/plugin/notes/notes.js', async: true },
          { src: 'moacir-files/title-footer/title-footer.js', async: true, callback: function() { title_footer.initialize("“Transversing Spaces,” 2018.3.24 ——— Moacir P. de Sá Pereira (@muziejus / moacir.com)"); } }
        ]
      });

    </script>

  </body>
</html>
